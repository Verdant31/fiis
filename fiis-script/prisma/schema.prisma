// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  name   String   @id
  fiis Fii[]
}

model Fii {
  id  Int  @id @default(autoincrement())
  name            String           
  yield           Float
  lastIncomeDate  String
  lastIncomeValue Float
  quotationValue  Float
  initialValue    Float
  qty             Int
  payments        PaymentHistory[]
  user            User         @relation(fields: [userName], references: [name])
  userName        String 
  @@index([userName])
}

model PaymentHistory {
  id      Int    @id @default(autoincrement())
  date    String
  value   Float
  closure Float
  qty     Int
  fiiId          Int
  fii     Fii    @relation(fields: [fiiId], references: [id])


  @@index([fiiId])
}
